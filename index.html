<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>

    </head>

    <body>
        <div id ="title">TreeMap</div>
    <div id = "description">Description</div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-array.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo.v1.min.js"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js"></script>
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
    <script>
    

    
    var tooltip = d3.select('body').append('div')
    .attr("id", "tooltip")
    .style("opacity",0)

    d3.select('body').append('div')
      .attr('id','tooltip')
      .attr('style','position:absolute; opacity: 0;')

    var margin = {top: 10, right:10,bottom:10,left: 10},
        width =445 -margin.left - margin.right,
        height = 445 - margin.top - margin.bottom;
    
    var svg = d3.select("body").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height+margin.top+margin.bottom)
        .append("g")
        .attr("transform","translate("+ margin.left + ","+margin.top+")");

    d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_dendrogram_full.json",function(data) {

        var root = d3.hierarchy(data).sum(function(d){return d.value})

        d3.treemap()
          .size([width,height])
          .padding(2)
          (root)

        svg
            .selectAll("rect")
            .data(root.leaves())
            .enter()
            .append("rect")
              .attr("x", d => d.x0)
              .attr("y", d => d.y0)
              .attr('width', d => d.x1-d.x0)
              .attr('height', d => d.y1-d.y0)
              .style('stroke','black')
              .style('fill','slateblue')

            svg
                .selectAll("text")
                .data(root.leaves())
                .enter()
                .append("text")
                  .attr("x", d=> d.x0+5)
                  .attr("y", d=>d.y0+20)
                  .text(d=>d.data.name)
                  .attr("font-size","15px")
                  .attr("fill","white")

    })
    
    </script>

    </body>
</html>